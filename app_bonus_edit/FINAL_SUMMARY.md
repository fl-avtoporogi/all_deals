# ‚úÖ –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

## –î–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è
24 –Ω–æ—è–±—Ä—è 2025

## –°—Ç–∞—Ç—É—Å
üü¢ **–ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –ë–∏—Ç—Ä–∏–∫—Å24**

---

## –ß—Ç–æ –±—ã–ª–æ —Å–¥–µ–ª–∞–Ω–æ

### 1. –ú–∏–≥—Ä–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ ‚úÖ
- –ü–µ—Ä–µ–Ω–µ—Å–ª–∏ –≤–µ—Å—å –∫–æ–¥ –∏–∑ –Ω–µ—Ä–∞–±–æ—á–µ–≥–æ `app_bonus_edit` –≤ –Ω–æ–≤—ã–π `app_bonus_edit_new`
- –°–æ—Ö—Ä–∞–Ω–∏–ª–∏ —Ä–∞–±–æ—á—É—é OAuth –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—É –∏–∑ —ç—Ç–∞–ª–æ–Ω–Ω–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –ò—Å–ø—Ä–∞–≤–∏–ª–∏ –ø—É—Ç—å –∫ `db_connect.php` (–ø–æ–∏—Å–∫ –≤ 2 –º–µ—Å—Ç–∞—Ö)

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ ‚úÖ
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –≤ –ë–∏—Ç—Ä–∏–∫—Å24
- OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –¢–∞–±–ª–∏—Ü–∞ —Å –∫–æ–¥–∞–º–∏ –±–æ–Ω—É—Å–æ–≤ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã

### 3. –û—á–∏—Å—Ç–∫–∞ –∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ ‚úÖ
- –£–¥–∞–ª–µ–Ω–∞ —Å—Ç–∞—Ä–∞—è –Ω–µ—Ä–∞–±–æ—á–∞—è –≤–µ—Ä—Å–∏—è `app_bonus_edit`
- `app_bonus_edit_new` –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∞ –≤ `app_bonus_edit`
- –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –∞–∫—Ç—É–∞–ª—å–Ω—ã–º–∏ URL

### 4. Git –∫–æ–º–º–∏—Ç—ã ‚úÖ
–°–æ–∑–¥–∞–Ω–æ 3 –∫–æ–º–º–∏—Ç–∞:
1. `1a35889` - –î–æ–±–∞–≤–ª–µ–Ω–æ —Ä–∞–±–æ—á–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (v2.0)
2. `d71c095` - –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ app_bonus_edit_new ‚Üí app_bonus_edit
3. `64b3369` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ README —Å –Ω–æ–≤—ã–º–∏ URL

---

## –ê–∫—Ç—É–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

### URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (Production)
```
–û–±—Ä–∞–±–æ—Ç—á–∏–∫:  https://9dk.ru/webhooks/avtoporogi/all_deals/app_bonus_edit/index.php
–£—Å—Ç–∞–Ω–æ–≤–∫–∞:   https://9dk.ru/webhooks/avtoporogi/all_deals/app_bonus_edit/install.php
–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ: https://9dk.ru/webhooks/avtoporogi/all_deals/app_bonus_edit/test_api.php
```

### OAuth Credentials
```
Client ID:     local.692466e0264de0.30890025
Client Secret: eBfqBtkAZ8fcU2D91Lv76fktxUTGQenKM4TH6EYEyCUz5tz55p
```

### –ü—É—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
```
/webhooks/avtoporogi/
‚îú‚îÄ‚îÄ db_connect.php          # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îî‚îÄ‚îÄ all_deals/
    ‚îú‚îÄ‚îÄ bonus_codes_cache.json  # –ö—ç—à
    ‚îî‚îÄ‚îÄ app_bonus_edit/         # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
        ‚îú‚îÄ‚îÄ index.php
        ‚îú‚îÄ‚îÄ api.php
        ‚îú‚îÄ‚îÄ config.php
        ‚îî‚îÄ‚îÄ ...
```

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç ‚úÖ
- üìä –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–æ–¥–æ–≤ –±–æ–Ω—É—Å–æ–≤ (52 –∫–æ–¥–∞: A1-A12, B1-B40)
- ‚úèÔ∏è –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏–π –±–æ–Ω—É—Å–æ–≤
- üíæ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π
- üì§ –ò–º–ø–æ—Ä—Ç –∏–∑ CSV —Ñ–∞–π–ª–∞
- üîç –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ `logs/bonus_changes.log`
- ‚ö° –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏
- OAuth 2.0 –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ CRest SDK
- MySQL —Å prepared statements (–∑–∞—â–∏—Ç–∞ –æ—Ç SQL-–∏–Ω—ä–µ–∫—Ü–∏–π)
- –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –¥–∞–Ω–Ω—ã—Ö
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- Whitelist –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—è –¥–æ—Å—Ç—É–ø–∞

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### –û—Å–Ω–æ–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **[README.md](README.md)** - –ø–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —É—Å—Ç–∞–Ω–æ–≤–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
- **[MIGRATION_COMPLETE.md](MIGRATION_COMPLETE.md)** - –¥–µ—Ç–∞–ª—å–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏
- **[FINAL_SUMMARY.md](FINAL_SUMMARY.md)** - —ç—Ç–∞ —Å–≤–æ–¥–∫–∞

### –î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤
- `test_api.php` - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
- `logs/bonus_changes.log` - –ª–æ–≥ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
- `settings.json` - OAuth —Ç–æ–∫–µ–Ω—ã (—Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ)

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ (–¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è)

### ‚ö†Ô∏è –í–ê–ñ–ù–û: –û–±–Ω–æ–≤–∏—Ç—å URL –≤ –ë–∏—Ç—Ä–∏–∫—Å24

–¢–∞–∫ –∫–∞–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–æ, –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å URL:

**–°—Ç–∞—Ä—ã–µ URL** (–±–æ–ª—å—à–µ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç):
```
https://9dk.ru/webhooks/avtoporogi/all_deals/app_bonus_edit_new/index.php
https://9dk.ru/webhooks/avtoporogi/all_deals/app_bonus_edit_new/install.php
```

**–ù–æ–≤—ã–µ URL** (–∞–∫—Ç—É–∞–ª—å–Ω—ã–µ):
```
https://9dk.ru/webhooks/avtoporogi/all_deals/app_bonus_edit/index.php
https://9dk.ru/webhooks/avtoporogi/all_deals/app_bonus_edit/install.php
```

### –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å:
1. –ó–∞–π–¥–∏ –≤ –ë–∏—Ç—Ä–∏–∫—Å24 ‚Üí –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è ‚Üí –†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞–º
2. –ù–∞–π–¥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ "–†–µ–¥–∞–∫—Ç–æ—Ä –±–æ–Ω—É—Å–æ–≤"
3. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
4. –ò–∑–º–µ–Ω–∏ –æ–±–∞ URL (—É–±–µ—Ä–∏ `_new`)
5. –°–æ—Ö—Ä–∞–Ω–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è
6. –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (—É–¥–∞–ª–∏ –∏ —É—Å—Ç–∞–Ω–æ–≤–∏ –∑–∞–Ω–æ–≤–æ)

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

### –ß–µ–∫-–ª–∏—Å—Ç ‚úÖ

–ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è URL –ø—Ä–æ–≤–µ—Ä—å:

- [ ] –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –∏–∑ –º–µ–Ω—é –ë–∏—Ç—Ä–∏–∫—Å24
- [ ] –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –±–µ–∑ —Å–ø–∏–Ω–Ω–µ—Ä–∞
- [ ] –í–∏–¥–Ω–∞ —Ç–∞–±–ª–∏—Ü–∞ —Å –∫–æ–¥–∞–º–∏ –±–æ–Ω—É—Å–æ–≤ (52 —Å—Ç—Ä–æ–∫–∏)
- [ ] –ú–æ–∂–Ω–æ –∏–∑–º–µ–Ω–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –±–æ–Ω—É—Å–∞
- [ ] –ö–Ω–æ–ø–∫–∞ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å" –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç—Å—è
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (–ø–æ—è–≤–ª—è–µ—Ç—Å—è —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± —É—Å–ø–µ—Ö–µ)
- [ ] –ò–º–ø–æ—Ä—Ç CSV —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –í `logs/bonus_changes.log` –ø–æ—è–≤–ª—è—é—Ç—Å—è –∑–∞–ø–∏—Å–∏

### –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–û—Ç–∫—Ä–æ–π—Ç–µ test_api.php:**
   ```
   https://9dk.ru/webhooks/avtoporogi/all_deals/app_bonus_edit/test_api.php
   ```
   –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ë–î

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)**
   - –í–∫–ª–∞–¥–∫–∞ Console - –æ—à–∏–±–∫–∏ JavaScript
   - –í–∫–ª–∞–¥–∫–∞ Network - –æ—Ç–≤–µ—Ç—ã –æ—Ç API

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏:**
   - `logs/bonus_changes.log` - –ª–æ–≥–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - –õ–æ–≥–∏ PHP –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
2. –û—Ç–∫—Ä–æ–π test_api.php –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
4. –û–ø–∏—à–∏ –ø—Ä–æ–±–ª–µ–º—É —Å –¥–µ—Ç–∞–ª—è–º–∏ (—Å–∫—Ä–∏–Ω—à–æ—Ç—ã, –æ—à–∏–±–∫–∏)

---

## –ò—Ç–æ–≥

‚úÖ **–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é**
‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞**
‚úÖ **Git –∫–æ–º–º–∏—Ç—ã —Å–æ–∑–¥–∞–Ω—ã**
‚úÖ **–í—Å–µ —Ñ–∞–π–ª—ã –Ω–∞ –º–µ—Å—Ç–µ**

**–û—Å—Ç–∞–ª–æ—Å—å —Ç–æ–ª—å–∫–æ:**
- –û–±–Ω–æ–≤–∏—Ç—å URL –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ë–∏—Ç—Ä–∏–∫—Å24
- –ü–µ—Ä–µ—É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞—Ç—å!** üöÄ

---

–°–æ–∑–¥–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é Claude Code
24 –Ω–æ—è–±—Ä—è 2025
